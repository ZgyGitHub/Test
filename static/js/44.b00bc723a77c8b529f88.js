webpackJsonp([44],{T0HU:function(t,e){},pVZR:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("aFK5"),o=i.n(s),n=i("UBjx"),a=i("GyW3"),l=i("XYix"),c=i("YxJB"),r=i("3Lt7"),d=i("e66H"),u=i("62KO"),h=i("Msp2"),p=i("Fwkz"),m=i("bh5B"),f=i("kMOI"),g={data:function(){return{styles:{height:"0px"},collectionList:[],user:{},show:!1,collectionId:"",showMap:!1,menusMap:{},showGaoDei:!1,latitude:"",longitude:"",address:"",showCancel:!0}},methods:{handleClickProductDesc:function(t,e){this.$router.push("/address/product/"+t+"/"+e)},getCollectionList:function(t){var e=this,i=f.b.get("id");p.a.get(this,"/v1/collection/"+i,{pageNum:this.pageNum,pageSize:this.pageSize},function(i){i.forEach(function(t){t.imgUrl=t.atlas.split(";")[0]}),t?e.collectionList=i:0===i.length?(e.$vux.toast.text("没有更多数据了","middle"),e.$refs.scroll&&e.pageNum>0?e.$refs.scroll.hiddenPullUpLoad():e.$refs.scroll.hiddenPullDown()):e.pageNum>1?e.collectionList=e.collectionList.concat(i):e.collectionList=i})},handleAlert:function(t){this.show=!0,this.collectionId=t},handleClickCollectionIcon:function(t){var e=this;p.a.put(this,"/v1/messageRecord",{id:t,collectionType:0},function(i){e.$vux.toast.text("取消收藏成功","middle"),e.collectionList.forEach(function(e){e.id===t&&(e.collectionType=0)})})},onPullingUp:function(){this.pageNum++,this.getCollectionList()},onPullingDown:function(){this.pageNum=1,this.getCollectionList()},onCancel:function(){},onConfirm:function(){this.handleClickCollectionIcon(this.collectionId)},goToMap:function(t,e,i){if(Object(a.b)())window.webkit.messageHandlers.NativeMethod.postMessage({methodName:"openMapNavi",latitude:t,longitude:e});else{if(this.menusMap=JSON.parse(window.android.isInstallByread()),null==this.menusMap||1===o()(this.menusMap).length)return this.showCancel=!1,void(this.showGaoDei=!0);"2"===this.menusMap.baiDu&&(this.menusMap.baiDu="百度地图"),"1"===this.menusMap.gaoDei&&(this.menusMap.gaoDei="高德地图"),"3"===this.menusMap.tenXun&&(this.menusMap.tenXun="腾讯地图"),this.showMap=!0,this.latitude=t,this.longitude=e,this.address=i}},handleClickMenu:function(t){"baiDu"===t?window.android.makeUpMap(this.latitude,this.longitude,this.address,2,1,""):"gaoDei"===t?window.android.makeUpMap(this.latitude,this.longitude,this.address,1,1,""):"tenXun"===t&&window.android.makeUpMap(this.latitude,this.longitude,this.address,3,1,"")},onCancelGaoDei:function(){},onConfirmGaoDei:function(){window.android.makeUpMap(this.latitude,this.longitude,this.address,0,1,"")}},components:{VHeader:n.a,Masker:l.a,Flexbox:c.a,FlexboxItem:r.a,Scroll:m.a,Rater:d.a,Confirm:u.a,isIOS:a.b,isIphoneX:a.c,Actionsheet:h.a},mounted:function(){this.styles.height=window.innerHeight-64+"px"},created:function(){this.pageNum=1,this.pageSize=10,this.getCollectionList(!0)}},v={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"collection"},[i("v-header",{attrs:{title:"我收藏的"}}),t._v(" "),i("scroll",{ref:"scroll",style:t.styles,attrs:{data:t.collectionList,scrollbar:!1,pullDownRefresh:!0,pullUpLoad:!0},on:{pullingDown:t.onPullingDown,pullingUp:t.onPullingUp}},[i("div",[t._l(t.collectionList,function(e){return 1===e.collectionType?i("div",{key:e.index,staticClass:"collectiondiv",staticStyle:{margin:"10px",overflow:"hidden"},on:{click:function(i){t.handleClickProductDesc(e.targetId,e.type)}}},[i("masker",{staticStyle:{"border-radius":"2px"},attrs:{color:"F9C90C",opacity:0}},[i("div",{staticClass:"m-img",style:{backgroundImage:"url("+e.imgUrl+")"}}),t._v(" "),i("div",{staticClass:"m-title",attrs:{slot:"content"},slot:"content"},[i("p",[t._v(t._s(e.name)+t._s(e.title)+"\n            "),i("br"),t._v(" "),i("span",{staticClass:"m-time"},[t._v(t._s(e.createAt.substring(0,10)))])])])]),t._v(" "),i("div",{staticClass:"collTwo"},[i("flexbox",{staticClass:"orderflexbox",attrs:{gutter:0}},[i("flexbox-item",[i("div",{staticClass:"flex-demo-o"},[i("p",{staticClass:"nameWrapper"},[t._v(t._s(e.name))])])])],1),t._v(" "),i("hr",{staticClass:"orderhrtwo"}),t._v(" "),i("flexbox",{staticClass:"orderflexbox",attrs:{gutter:0}},[i("flexbox-item",{attrs:{span:5/6}},[i("div",{staticClass:"flex-demo-o"},[i("p",{staticClass:"collectiontext",on:{click:function(i){i.stopPropagation(),t.goToMap(e.latitude,e.longitude,e.address)}}},[i("i",{staticClass:"fa fa-map-marker",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(e.address))])])]),t._v(" "),i("flexbox-item",{attrs:{span:1/6}},[i("div",{staticClass:"flex-demo-or"},[i("i",{staticClass:"fa fa-star",attrs:{"aria-hidden":"true"},on:{click:function(i){i.stopPropagation(),t.handleAlert(e.id)}}})])])],1)],1)],1):t._e()}),t._v(" "),0===t.collectionList.length?i("div",{staticStyle:{"text-align":"center","margin-top":"25%"},on:{click:function(e){t.getCollectionList()}}},[i("h4",[t._v("喔噢~，没有数据")]),t._v(" "),i("p",{staticStyle:{"margin-top":"7px"}},[t._v("点击刷新")])]):t._e(),t._v(" "),i("div",{staticClass:"bottomDiv"})],2)]),t._v(" "),i("div",{staticClass:"alertWrapper"},[i("div",[i("confirm",{attrs:{title:"温馨提示"},on:{"on-cancel":t.onCancel,"on-confirm":t.onConfirm},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[i("p",{staticStyle:{"text-align":"center"}},[t._v("您确定要取消收藏吗")])])],1)]),t._v(" "),i("actionsheet",{attrs:{menus:t.menusMap,"show-cancel":t.showCancel},on:{"on-click-menu":t.handleClickMenu},model:{value:t.showMap,callback:function(e){t.showMap=e},expression:"showMap"}}),t._v(" "),i("div",{staticClass:"alertWrapper"},[i("div",[i("confirm",{attrs:{title:"操作提示"},on:{"on-cancel":t.onCancelGaoDei,"on-confirm":t.onConfirmGaoDei},model:{value:t.showGaoDei,callback:function(e){t.showGaoDei=e},expression:"showGaoDei"}},[i("p",{staticStyle:{"text-align":"center"}},[t._v("您尚未安装常用地图，小嗨为您推荐安装高德地图")])])],1)])],1)},staticRenderFns:[]};var C=i("VU/8")(g,v,!1,function(t){i("T0HU")},"data-v-1e32d042",null);e.default=C.exports}});
//# sourceMappingURL=44.b00bc723a77c8b529f88.js.map