{"version":3,"sources":["webpack:///./src/pages/meiTu/tagDynamic/tagDynamic.vue","webpack:///./src/pages/meiTu/tagDynamic/tagDynamic.vue?0a66","webpack:///./src/pages/meiTu/tagDynamic/tagDynamic.vue?eb7b"],"names":["tagDynamic","data","showHeaderBackground","tag","dynamicList","pageNum","components","VHeader","v_header","Masker","masker","created","this","paddingTop","Object","brower","_getTagInfo","_getTagDynamic","methods","_this","axiosApi","get","id","$route","params","tagId","isFirst","_self","tagIds","length","temp","forEach","item","tmpHeadUrl","default_avatar_default","a","headUrl","indexOf","config","push","user","publisher","nickname","signature","local","parseInt","product","productId","thumblUrl","thumbUrl","name","address","type","dynamic","content","atlas","split","publishAddress","publishTime","utils","tags","tagNames","latitude","publishLatitude","longitude","publishLongitude","other","collectionType","collection","starType","star","collectionNum","collectionSum","starNum","starSum","commentNum","commentCount","followStatus","follower","concat","$refs","scroll","hiddenPullUpLoad","position","directionY","y","head","$el","clientHeight","top","onPullingUp","tagDynamic_tagDynamic","render","_h","$createElement","_c","staticClass","ref","attrs","title","showBackground","fixed","_v","staticStyle","overflow","height","list","pullDownRefresh","pullUpLoad","on","directives","rawName","value","expression","arg","slot","style","text-align","margin","_s","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/36.ce5b9a0f90229c47a3cb.js","sourcesContent":["\nimport VHeader from '@/components/v-header/v-header'\nimport dynamicList from '@/pages/meiTu/dynamicList/dynamicList'\n\nimport { isIphoneX } from '@/assets/js/brower'\nimport axios from '@/api/axiosApi'\nimport { personifyTime } from '@/assets/js/utils'\nimport defaultAvatar from '@/assets/img/default_avatar.png'\nimport { QINIU_PREFIX } from '@/api/config'\nimport Masker from 'vux/src/components/masker/index.vue'\n\n\nexport default {\ndata () {\nreturn {\nshowHeaderBackground: false,\ntag: {},\ndynamicList: [],\npageNum: 1\n}\n},\ncomponents: {\nVHeader, dynamicList, Masker\n},\ncreated () {\nthis.paddingTop = 40\nif (isIphoneX()) {\nthis.paddingTop += 34\n} else {\nthis.paddingTop += 20\n}\n\nthis._getTagInfo()\nthis._getTagDynamic()\n},\nmethods: {\n_getTagInfo () {\naxios.get(this, `/v1/tag`, {\nid: this.$route.params.tagId\n}, (data) => {\nthis.tag = data[0]\n})\n},\n_getTagDynamic (isFirst) {\nconst _self = this\naxios.get(_self, '/v1/dynamic', {\ntagIds: this.$route.params.tagId,\npageNum: _self.pageNum\n}, (data) => {\nif (data.length === 0) {\nif (_self.pageNum > 1) {\n_self.pageNum--\nif (_self.$refs.dynamicList) {\n_self.$refs.dynamicList.$refs.scroll.hiddenPullUpLoad()\n}\n}\nreturn\n}\nlet temp = []\ndata.forEach(item => {\nlet tmpHeadUrl = defaultAvatar\nif (item.headUrl) {\nif (item.headUrl.indexOf(QINIU_PREFIX) > -1) {\ntmpHeadUrl = item.headUrl + '-bheader'\n} else {\ntmpHeadUrl = item.headUrl\n}\n}\ntemp.push({\nuser: {\nid: item.publisher,\nnickname: item.nickname,\nheadUrl: tmpHeadUrl,\nsignature: item.signature || '',\nlocal: parseInt(item.local)\n},\nproduct: {\nid: item.productId,\nthumblUrl: item.thumbUrl,\nname: item.name,\naddress: item.address,\ntype: item.type\n},\ndynamic: {\nid: item.id,\ncontent: item.content,\natlas: item.atlas ? item.atlas.split(';') : '',\npublishAddress: item.publishAddress,\npublishTime: personifyTime(item.publishTime),\ntags: item.tagNames ? item.tagNames.split(';') : '',\ntagIds: item.tagIds ? item.tagIds.split(';') : '',\nlatitude: item.publishLatitude,\nlongitude: item.publishLongitude\n},\nother: {\ncollectionType: item.collection !== 0,\nstarType: item.star !== 0,\ncollectionNum: item.collectionSum,\nstarNum: item.starSum,\n\ncommentNum: item.commentCount,\nfollowStatus: item.follower === 'NO' ? 0 : 1\n}\n})\n})\n_self.dynamicList = _self.dynamicList.concat(temp)\n})\n},\nscroll (position, directionY) {\nif (position.y <= (this.$refs.head.$el.clientHeight - this.$refs.top.clientHeight)) {\nthis.showHeaderBackground = true\n} else {\nthis.showHeaderBackground = false\n}\n},\nonPullingUp () {\nthis.pageNum++\nthis._getTagDynamic()\n}\n}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/meiTu/tagDynamic/tagDynamic.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tag-dynamic-wrapper\"},[_c('v-header',{ref:\"head\",attrs:{\"title\":_vm.tag.name,\"showBackground\":_vm.showHeaderBackground,\"fixed\":true}}),_vm._v(\" \"),_c('dynamic-list',{ref:\"dynamicList\",staticStyle:{\"overflow\":\"hidden\",\"height\":\"100%\"},attrs:{\"list\":_vm.dynamicList,\"pullDownRefresh\":false,\"pullUpLoad\":true},on:{\"onPullingUp\":_vm.onPullingUp,\"scroll\":_vm.scroll}},[_c('div',{directives:[{name:\"lazy\",rawName:\"v-lazy:background-image\",value:(_vm.tag.thumbUrl),expression:\"tag.thumbUrl\",arg:\"background-image\"}],ref:\"top\",staticClass:\"top\",attrs:{\"slot\":\"head\"},slot:\"head\"},[_c('div',{staticClass:\"wrapper\",style:({paddingTop: _vm.paddingTop + 'px'})},[_c('p',{staticStyle:{\"text-align\":\"center\",\"margin\":\"25px\"}},[_vm._v(\"#\"+_vm._s(_vm.tag.name)+\"#\")])])])])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-41603368\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vux-loader/src/before-template-compiler-loader.js!./node_modules/vux-loader/src/template-loader.js!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/meiTu/tagDynamic/tagDynamic.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-41603368\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vux-loader/src/style-loader.js!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./tagDynamic.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vux-loader/src/script-loader.js!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./tagDynamic.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vux-loader/src/script-loader.js!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./tagDynamic.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-41603368\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vux-loader/src/before-template-compiler-loader.js!../../../../node_modules/vux-loader/src/template-loader.js!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./tagDynamic.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-41603368\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/meiTu/tagDynamic/tagDynamic.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}