webpackJsonp([21],{"+QOx":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s("Dd8w"),a=s.n(i),r=s("UBjx"),l=s("gCE8"),n=s("rHil"),o=s("UNGY"),c=s("Msp2"),u=s("pDNl"),d=s("HD9R"),h=s("63CM"),p=s("GyW3"),m=s("NYxO"),f=s("Fwkz"),v={data:function(){return{showSelectAddress:!1,showFigure:!1,publishAddress:null,travelTime:"",numberOfDays:"",figureActionsheet:{figure1:"一个人",figure2:"情侣/夫妻",figure3:"带孩子",figure4:"家庭出游",figure5:"和朋友",figure6:"和同学",figure7:"其他"},figure:"",thePerCapitaCost:""}},directives:{TransferDom:h.a},components:{VHeader:r.a,Group:n.a,Datetime:o.a,Actionsheet:c.a,XInput:u.a,Popup:d.a,IndexList:l.a},computed:a()({},Object(m.b)(["areaList"])),created:function(){this.paddingBottom=0,Object(p.c)()&&(this.paddingBottom=34),this.mainHeight=0},mounted:function(){this.mainHeight=window.innerHeight-this.$refs.header.clientHeight},methods:{selectArea:function(e){this.publishAddress=e,this.showSelectAddress=!1},setToday:function(){this.travelTime=this.moment().format("YYYY-MM-DD")},selectFigure:function(e,t){this.figure=t},submit:function(){var e=this;null!==this.publishAddress?f.a.put(this,"/v1/playStrategy/"+this.$route.params.id,{publishAddressId:this.publishAddress.id,travelTime:this.travelTime,figure:this.figure,numberOfDays:this.numberOfDays,thePerCapitaCost:this.thePerCapitaCost},function(){e.$vux.toast.text("发布游记成功~","middle"),e.$router.go(-1)}):this.$vux.toast.text("请选择出行目的地","middle")}}},g={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"travelsPerfect-wrapper"},[s("v-header",{ref:"header",attrs:{title:"游记信息完善"}},[s("p",{attrs:{slot:"right"},on:{click:e.submit},slot:"right"},[e._v("完成")])]),e._v(" "),s("div",{staticClass:"travelsPerfect",style:{height:e.mainHeight+"px"}},[s("p",{staticClass:"item title"},[e._v("完善出行信息，让游记内容更丰富")]),e._v(" "),s("div",{staticClass:"item require",on:{click:function(t){e.showSelectAddress=!0}}},[s("p",[e._v("目的地")]),e._v(" "),null!==e.publishAddress?s("p",{staticClass:"selected"},[e._v(e._s(e.publishAddress.name))]):s("p",{staticClass:"unselected"},[e._v("选择出行目的地")])]),e._v(" "),s("group",[s("datetime",{attrs:{title:"出行时间",placeholder:"选择出发日期","clear-text":"今天"},on:{"on-clear":e.setToday},model:{value:e.travelTime,callback:function(t){e.travelTime=t},expression:"travelTime"}})],1),e._v(" "),s("group",[s("x-input",{attrs:{title:"出行天数/天",type:"number",max:6,placeholder:"输入天数","show-clear":!1},model:{value:e.numberOfDays,callback:function(t){e.numberOfDays=t},expression:"numberOfDays"}})],1),e._v(" "),s("div",{staticClass:"item",on:{click:function(t){e.showFigure=!0}}},[s("p",[e._v("人物")]),e._v(" "),""!==e.figure?s("p",{staticClass:"selected"},[e._v(e._s(e.figure))]):s("p",{staticClass:"unselected"},[e._v("选择出行人物")])]),e._v(" "),s("group",[s("x-input",{attrs:{title:"人均花费/RMB",type:"number",max:6,placeholder:"输入金额","show-clear":!1},model:{value:e.thePerCapitaCost,callback:function(t){e.thePerCapitaCost=t},expression:"thePerCapitaCost"}})],1),e._v(" "),s("actionsheet",{attrs:{menus:e.figureActionsheet,"show-cancel":""},on:{"on-click-menu":e.selectFigure},model:{value:e.showFigure,callback:function(t){e.showFigure=t},expression:"showFigure"}}),e._v(" "),s("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[s("popup",{staticClass:"popup-wrapper",attrs:{position:"bottom",width:"100%",height:"50%"},model:{value:e.showSelectAddress,callback:function(t){e.showSelectAddress=t},expression:"showSelectAddress"}},[s("div",{style:{height:"calc(100% - "+e.paddingBottom+"px)"}},[s("index-list",{attrs:{data:e.areaList,title:"选择目的地",show:e.showSelectAddress},on:{select:e.selectArea}})],1)])],1)],1)],1)},staticRenderFns:[]};var b=s("VU/8")(v,g,!1,function(e){s("lGfl"),s("3rby")},"data-v-4de0d784",null);t.default=b.exports},"3rby":function(e,t){},lGfl:function(e,t){}});
//# sourceMappingURL=21.eec0864e4e17f9b47636.js.map