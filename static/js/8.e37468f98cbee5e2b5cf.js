webpackJsonp([8],{"K+l2":function(e,t){},c91K:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("UBjx"),o=s("rHil"),i=s("1DHf"),r=s("32ER"),n=s("YxJB"),l=s("3Lt7"),c=s("dQSc"),d={name:"flow",props:{orientation:{type:String,default:"horizontal"}}},v={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"weui-wepay-flow",class:{"weui-wepay-flow_vertical":"vertical"===this.orientation}},[t("div",{staticClass:"weui-wepay-flow__bd"},[this._t("default")],2)])},staticRenderFns:[]};var x=s("VU/8")(d,v,!1,function(e){s("K+l2")},null,null).exports,u={name:"flow-state",props:{state:[String,Number],title:String,isDone:Boolean},computed:{titlePosition:function(){return"vertical"===this.$parent.orientation?"right":"bottom"}}},f={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"weui-wepay-flow__li",class:{"weui-wepay-flow__li_done":this.isDone}},[t("div",{staticClass:"weui-wepay-flow__state"},[this._v(this._s(this.state))]),this._v(" "),t("p",{class:"weui-wepay-flow__title-"+this.titlePosition},[this._t("title",[this._v(this._s(this.title))])],2)])},staticRenderFns:[]},_=s("VU/8")(u,f,!1,null,null,null).exports,p={name:"flow-line",props:{tip:String,tipDirection:String,isDone:Boolean,lineSpan:[Number,String],processSpan:[Number,String]},methods:{getWidth:function(e){return"number"==typeof e?e+"%":e}},computed:{finalTipDirection:function(){return void 0===this.tipDirection?"vertical"===this.$parent.orientation?"left":"top":this.tipDirection},styles:function(){if(this.lineSpan){var e=this.$parent.orientation,t={flex:"none","-webkit-box-flex":"0"};return"vertical"===e&&(t.width="3px"),this.lineSpan&&("vertical"===e?t.height=this.getWidth(this.lineSpan):t.width=this.getWidth(this.lineSpan)),t}},classes:function(){return this.isDone?"weui-wepay-flow__line_done":!this.isDone&&this.tip?"weui-wepay-flow__line_ing":void 0}}},h={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"weui-wepay-flow__line",class:this.classes,style:this.styles},[t("div",{staticClass:"weui-wepay-flow__process",style:{width:this.getWidth(this.processSpan)}}),this._v(" "),this.tip?t("div",{class:"weui-wepay-flow__info-"+this.finalTipDirection,style:{left:this.getWidth(this.processSpan)}},[this._v(this._s(this.tip))]):this._e()])},staticRenderFns:[]},m=s("VU/8")(p,h,!1,null,null,null).exports,g=s("S8Wg"),b=s("2sLL"),C=s("Msp2"),w=s("rGqP"),M=s("62KO"),S=s("Fwkz"),y=s("75UI"),T={data:function(){return{styles:{height:"100%"},menusPhone:{menu1:"咨询拨打官方电话 8888888"},orderId:"",orderMessage:{orderStatusDesc:""},showPhone:!1,showQuit:!1,invoiceMessage:{},outTradeNoQuit:"",imgUrl:""}},created:function(){this.imgUrl="http://p2pblz7ar.bkt.clouddn.com/orderback.png",this.getOrderDesc(),this.getInvoiceDesc()},methods:{getOrderDesc:function(){var e=this;S.a.get(this,"/v1/order/"+this.$route.params.descId,null,function(t){switch(t.orderStatus){case 0:t.orderStatusDesc="待付款";break;case 1:t.orderStatusDesc="已付款";break;case 2:t.orderStatusDesc="已取消";break;case 3:t.orderStatusDesc="退款中";break;case 4:t.orderStatusDesc="已退款";break;case 5:t.orderStatusDesc="退款失败"}(e.moment().subtract(1,"days").isAfter(t.effectiveDate.split("~")[1])||e.moment().subtract(1,"days").isAfter(t.effectiveDate))&&(t.orderStatusDesc="已失效",t.expire=!0),void 0!==t.notice&&(t.notice=t.notice.replace(/；/g,";").split(";")),e.orderMessage=t,console.log(e.orderMessage)})},getInvoiceDesc:function(){var e=this;S.a.get(this,"/v1/invoice/"+this.$route.params.descId,null,function(t){e.invoiceMessage=t})},handleToProductDesc:function(e,t){this.$router.push("/address/product/"+e+"/"+t)},handleConnect:function(e){this.outTradeNoQuit=e,this.showQuit=!0},handleConnectPhone:function(){this.showPhone=!0},handleClickMenu:function(e){window.location.href="tel://8888888"},toPay:function(e){var t=this;y.a.alipay(e,function(e){var s=e.arg,a=e.msg;9e3===s&&(t.$store.commit("SET_ORDER_TAB",2),t.$router.push("/user/order")),t.$vux.toast.text(a,"middle")})},toCansel:function(e){var t=this;S.a.put(this,"/v1/order",{outTradeNo:e,orderStatus:2},function(e){t.$vux.toast.text("订单取消成功","middle"),t.$router.push("/user/order"),t.$store.commit("SET_ORDER_TAB",3)})},onCancelQuit:function(){},onConfirmQuit:function(){var e=this;S.a.post(this,"/v1/refund/"+this.outTradeNoQuit,null,function(t){e.$router.push("/user/orderQuitServer"),e.$store.commit("SET_QUITORDER_TAB",0)})}},components:{VHeader:a.a,Group:o.a,Cell:i.a,CellBox:r.a,Flexbox:n.a,FlexboxItem:l.a,Card:c.a,Flow:x,FlowState:_,FlowLine:m,Scroller:g.a,XButton:b.a,Actionsheet:C.a,Divider:w.a,Confirm:M.a},mounted:function(){this.styles.height=window.innerHeight-64+"px"}},D={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"orderdesc-wrapper"},[s("v-header",{attrs:{title:"订单详情"}}),e._v(" "),s("scroller",{style:e.styles,attrs:{bounce:!1}},[s("div",[s("div",{staticClass:"orderStatus",style:{backgroundImage:"url("+e.imgUrl+")"}},[s("flexbox",{staticClass:"orderflexbox",attrs:{gutter:0}},[s("flexbox-item",[s("div",{staticClass:"flex-demo-o"},[s("span",[e._v(e._s(e.orderMessage.orderStatusDesc))])])]),e._v(" "),s("flexbox-item",[0===e.orderMessage.orderStatus&&"已失效"!==e.orderMessage.orderStatusDesc?s("div",{staticClass:"flex-demo-ot"},[s("span",[e._v("亲，为避免订单过期自动取消请尽快支付")])]):e._e()])],1)],1),e._v(" "),s("div",{staticClass:"ordercell"},[s("cell-box",{attrs:{"is-link":""},nativeOn:{click:function(t){e.handleToProductDesc(e.orderMessage.productId,e.orderMessage.type)}}},[s("flexbox",{attrs:{gutter:0}},[s("flexbox-item",{attrs:{span:2/3}},[s("div",[s("span",[e._v(e._s(e.orderMessage.goodsName))])])]),e._v(" "),s("flexbox-item",{staticClass:"moneyOrder",attrs:{span:1/3}},[s("div",[s("span",{staticClass:"moneyOrderDesc"},[e._v("¥"+e._s(e.orderMessage.totalAmount))])])])],1)],1),e._v(" "),s("div",{staticClass:"goodescWrapper"},[s("flexbox",{attrs:{gutter:0}},[s("flexbox-item",{staticClass:"goodsDesc"},[s("div",[s("span",[e._v(e._s(e.orderMessage.goodsDesc))])])])],1)],1),e._v(" "),1===e.orderMessage.orderStatus||2===e.orderMessage.orderStatus||0===e.orderMessage.orderStatus?s("card",{staticClass:"orderdesccard"},[s("div",{staticClass:"card-demo-flex card-demo-content01",attrs:{slot:"content"},slot:"content"},["待付款"!==e.orderMessage.orderStatusDesc?s("div",{staticClass:"vux-1px-r",on:{click:function(t){e.handleToProductDesc(e.orderMessage.productId,e.orderMessage.type)}}},[s("p",[e._v("再买一张")])]):e._e(),e._v(" "),1===e.orderMessage.orderStatus&&"已失效"!==e.orderMessage.orderStatusDesc?s("div",{staticClass:"vux-1px-r",on:{click:function(t){e.handleConnect(e.orderMessage.outTradeNo)}}},[s("p",[e._v("退款")])]):e._e()])]):e._e(),e._v(" "),0===e.orderMessage.orderStatus&&"已失效"!==e.orderMessage.orderStatusDesc?s("card",{staticClass:"orderdesccards"},[s("div",{staticClass:"card-demo-flex card-demo-content01",attrs:{slot:"content"},slot:"content"},[s("div",{staticClass:"vux-1px-r",on:{click:function(t){e.toCansel(e.orderMessage.outTradeNo)}}},[s("p",[e._v("取消订单")])]),e._v(" "),s("div",{staticClass:"vux-1px-r",on:{click:function(t){e.toPay(e.orderMessage.outTradeNo)}}},[s("p",[e._v("立即支付")])])])]):e._e(),e._v(" "),3===e.orderMessage.orderStatus||4===e.orderMessage.orderStatus||5===e.orderMessage.orderStatus?s("card",{staticClass:"orderdesccard"},[s("div",{staticClass:"card-demo-flex card-demo-content01",attrs:{slot:"content"},slot:"content"},[s("div",{staticClass:"vux-1px-r",on:{click:function(t){e.handleToProductDesc(e.orderMessage.productId,e.orderMessage.type)}}},[s("p",[e._v("再买一张")])]),e._v(" "),s("div",{staticClass:"vux-1px-r",on:{click:e.handleConnectPhone}},[s("p",[e._v("拨打客服")])])])]):e._e()],1),e._v(" "),s("div",{staticClass:"attention"},[s("flexbox",{staticClass:"orderflexbox",attrs:{gutter:0}},[s("flexbox-item",[s("div",{staticClass:"flex-demo-oa"},[s("span",[e._v("|")]),e._v(" 注意事项\n                ")])])],1),e._v(" "),s("hr",{staticClass:"orderhrtwo"}),e._v(" "),s("div",[s("cell-box",{attrs:{"is-link":""},nativeOn:{click:function(t){e.handleToProductDesc(e.orderMessage.productId,e.orderMessage.type)}}},[s("flexbox",{attrs:{gutter:0}},[s("flexbox-item",{attrs:{span:6/7}},[s("div",[s("span",[e._v(e._s(0==e.orderMessage.type?"酒店":"景区")+"："+e._s(e.orderMessage.goodsName))])])])],1)],1)],1),e._v(" "),s("div",[s("flexbox",{staticClass:"orderflexbox",attrs:{gutter:0}},[s("flexbox-item",[s("div",{staticClass:"flex-demo-oaa"},[s("ul",e._l(e.orderMessage.notice,function(t){return s("li",{key:t.id,staticClass:"noticeText"},[e._v(e._s(t))])}))])])],1)],1)],1),e._v(" "),1==e.orderMessage.invoice?s("div",{staticClass:"attention"},[s("flexbox",{staticClass:"orderflexbox",attrs:{gutter:0}},[s("flexbox-item",[s("div",{staticClass:"flex-demo-oa"},[s("span",[e._v("|")]),e._v(" 发票信息\n                ")])])],1),e._v(" "),s("hr",{staticClass:"orderhrtwo"}),e._v(" "),""!==e.invoiceMessage.invoiceType?s("div",[s("flexbox",{staticClass:"orderflexbox",attrs:{gutter:0}},[s("flexbox-item",{attrs:{span:1/3}},[s("div",{staticClass:"flex-demo-oaa"},[s("span",[e._v("发票类型")])])]),e._v(" "),s("flexbox-item",{attrs:{span:2/3}},[s("div",{staticClass:"flex-demo-oaa flexText"},[s("span",[e._v(e._s(0==e.invoiceMessage.invoiceType?"普通发票":"电子发票"))])])])],1)],1):e._e(),e._v(" "),""!==e.invoiceMessage.invoiceRiseType?s("div",[s("flexbox",{staticClass:"orderflexbox",attrs:{gutter:0}},[s("flexbox-item",{attrs:{span:1/3}},[s("div",{staticClass:"flex-demo-oaa"},[s("span",[e._v("发票抬头")])])]),e._v(" "),s("flexbox-item",{attrs:{span:2/3}},[s("div",{staticClass:"flex-demo-oaa flexText"},[s("span",[e._v(e._s(0==e.invoiceMessage.invoiceRiseType?"个人":"单位"))])])])],1)],1):e._e(),e._v(" "),""!==e.invoiceMessage.companyName?s("div",[s("flexbox",{staticClass:"orderflexbox",attrs:{gutter:0}},[s("flexbox-item",{attrs:{span:1/3}},[s("div",{staticClass:"flex-demo-oaa"},[s("span",[e._v("公司名称")])])]),e._v(" "),s("flexbox-item",{attrs:{span:2/3}},[s("div",{staticClass:"flex-demo-oaa flexText"},[s("span",[e._v(e._s(e.invoiceMessage.companyName))])])])],1)],1):e._e(),e._v(" "),""!==e.invoiceMessage.registrationNumber?s("div",[s("flexbox",{staticClass:"orderflexbox",attrs:{gutter:0}},[s("flexbox-item",{attrs:{span:1/3}},[s("div",{staticClass:"flex-demo-oaa"},[s("span",[e._v("税号")])])]),e._v(" "),s("flexbox-item",{attrs:{span:2/3}},[s("div",{staticClass:"flex-demo-oaa flexText"},[s("span",[e._v(e._s(e.invoiceMessage.registrationNumber))])])])],1)],1):e._e(),e._v(" "),""!==e.invoiceMessage.accountPhone?s("div",[s("flexbox",{staticClass:"orderflexbox",attrs:{gutter:0}},[s("flexbox-item",{attrs:{span:1/3}},[s("div",{staticClass:"flex-demo-oaa"},[s("span",[e._v("收票人手机号")])])]),e._v(" "),s("flexbox-item",{attrs:{span:2/3}},[s("div",{staticClass:"flex-demo-oaa flexText"},[s("span",[e._v(e._s(e.invoiceMessage.accountPhone))])])])],1)],1):e._e(),e._v(" "),""!==e.invoiceMessage.accountEmail?s("div",[s("flexbox",{staticClass:"orderflexbox",attrs:{gutter:0}},[s("flexbox-item",{attrs:{span:1/3}},[s("div",{staticClass:"flex-demo-oaa"},[s("span",[e._v("收票人邮箱")])])]),e._v(" "),s("flexbox-item",{attrs:{span:2/3}},[s("div",{staticClass:"flex-demo-oaa flexText"},[s("span",[e._v(e._s(e.invoiceMessage.accountEmail))])])])],1)],1):e._e(),e._v(" "),""!==e.invoiceMessage.invoiceContentType?s("div",[s("flexbox",{staticClass:"orderflexbox",attrs:{gutter:0}},[s("flexbox-item",{attrs:{span:1/3}},[s("div",{staticClass:"flex-demo-oaa"},[s("span",[e._v("发票内容")])])]),e._v(" "),s("flexbox-item",{attrs:{span:2/3}},[s("div",{staticClass:"flex-demo-oaa flexText"},[s("span",[e._v(e._s(0==e.invoiceMessage.invoiceContentType?"商品明细":"商品类别"))])])])],1)],1):e._e()],1):e._e(),e._v(" "),s("div",{staticClass:"attention"},[s("flexbox",{staticClass:"orderflexbox",attrs:{gutter:0}},[s("flexbox-item",[s("div",{staticClass:"flex-demo-oa"},[s("span",[e._v("|")]),e._v(" 游客信息\n                ")])])],1),e._v(" "),s("hr",{staticClass:"orderhrtwo"}),e._v(" "),s("div",[s("flexbox",{staticClass:"orderflexbox",attrs:{gutter:0}},[s("flexbox-item",{attrs:{span:1/3}},[s("div",{staticClass:"flex-demo-oaa"},[s("span",[e._v("手机号")])])]),e._v(" "),s("flexbox-item",{attrs:{span:2/3}},[s("div",{staticClass:"flex-demo-oaa flexText"},[s("span",[e._v(e._s(e.orderMessage.phone))])])])],1)],1),e._v(" "),s("hr",{staticClass:"orderhrthree"}),e._v(" "),s("div",[s("flexbox",{staticClass:"orderflexbox",attrs:{gutter:0}},[s("flexbox-item",{attrs:{span:1/3}},[s("div",{staticClass:"flex-demo-oaa"},[s("span",[e._v("昵称")])])]),e._v(" "),s("flexbox-item",{attrs:{span:2/3}},[s("div",{staticClass:"flex-demo-oaa flexText"},[s("span",[e._v(e._s(e.orderMessage.nickname))])])])],1),e._v(" "),s("flexbox",{staticClass:"orderflexbox",attrs:{gutter:0}},[s("flexbox-item",{attrs:{span:1/3}},[s("div",{staticClass:"flex-demo-oaa"},[s("span",[e._v("联系人")])])]),e._v(" "),s("flexbox-item",{attrs:{span:2/3}},[s("div",{staticClass:"flex-demo-oaa flexText"},[s("span",[e._v(e._s(e.orderMessage.concat))])])])],1)],1)],1),e._v(" "),s("div",{staticClass:"attention"},[s("flexbox",{staticClass:"orderflexbox",attrs:{gutter:0}},[s("flexbox-item",[s("div",{staticClass:"flex-demo-oa"},[s("span",[e._v("|")]),e._v(" 订单信息\n                ")])])],1),e._v(" "),s("hr",{staticClass:"orderhrtwo"}),e._v(" "),s("div",[s("flexbox",{staticClass:"orderflexbox",attrs:{gutter:0}},[s("flexbox-item",{attrs:{span:1/3}},[s("div",{staticClass:"flex-demo-oaa"},[s("span",[e._v("订单号")])])]),e._v(" "),s("flexbox-item",{attrs:{span:2/3}},[s("div",{staticClass:"flex-demo-oaa flexText"},[s("span",[e._v(e._s(e.orderMessage.outTradeNo))])])])],1)],1),e._v(" "),s("div",[s("flexbox",{staticClass:"orderflexbox",attrs:{gutter:0}},[s("flexbox-item",{attrs:{span:1/3}},[s("div",{staticClass:"flex-demo-oaa"},[s("span",[e._v("出行时间")])])]),e._v(" "),s("flexbox-item",{attrs:{span:2/3}},[s("div",{staticClass:"flex-demo-oaa flexText"},[s("span",[e._v(e._s(e.orderMessage.effectiveDate))])])])],1)],1),e._v(" "),s("div",[s("flexbox",{staticClass:"orderflexbox",attrs:{gutter:0}},[s("flexbox-item",{attrs:{span:1/3}},[s("div",{staticClass:"flex-demo-oaa"},[s("span",[e._v("下单时间")])])]),e._v(" "),s("flexbox-item",{attrs:{span:2/3}},[s("div",{staticClass:"flex-demo-oaa flexText"},[s("span",[e._v(e._s(e.orderMessage.createAt))])])])],1)],1)],1),e._v(" "),s("div",{staticClass:"bottomDiv"})])]),e._v(" "),s("actionsheet",{attrs:{menus:e.menusPhone,"show-cancel":""},on:{"on-click-menu":e.handleClickMenu},model:{value:e.showPhone,callback:function(t){e.showPhone=t},expression:"showPhone"}}),e._v(" "),s("div",{staticClass:"alertWrapper"},[s("div",[s("confirm",{attrs:{title:"温馨提示"},on:{"on-cancel":e.onCancelQuit,"on-confirm":e.onConfirmQuit},model:{value:e.showQuit,callback:function(t){e.showQuit=t},expression:"showQuit"}},[s("p",{staticStyle:{"text-align":"center"}},[e._v("发起退款后，需要三个工作日的审核时间，请耐心等待")])])],1)])],1)},staticRenderFns:[]};var k=s("VU/8")(T,D,!1,function(e){s("tTbH")},"data-v-1af96254",null);t.default=k.exports},dQSc:function(e,t,s){"use strict";var a=s("0FxO"),o={name:"card",props:{header:Object,footer:Object},methods:{onClickFooter:function(){this.footer.link&&Object(a.a)(this.footer.link,this.$router),this.$emit("on-click-footer")}}},i={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"weui-panel weui-panel_access"},[e.header&&e.header.title?s("div",{staticClass:"weui-panel__hd",domProps:{innerHTML:e._s(e.header.title)},on:{click:function(t){e.$emit("on-click-header")}}}):e._e(),e._v(" "),e._t("header"),e._v(" "),s("div",{staticClass:"weui-panel__bd"},[s("div",{staticClass:"vux-card-content"},[e._t("content")],2)]),e._v(" "),s("div",{staticClass:"weui-panel__ft"},[e.footer&&e.footer.title?s("a",{staticClass:"weui-cell weui-cell_access weui-cell_link",attrs:{href:"javascript:"},on:{click:e.onClickFooter}},[s("div",{staticClass:"weui-cell__bd",domProps:{innerHTML:e._s(e.footer.title)}})]):e._e()]),e._v(" "),e._t("footer")],2)},staticRenderFns:[]};var r=s("VU/8")(o,i,!1,function(e){s("nLSQ")},null,null);t.a=r.exports},nLSQ:function(e,t){},tTbH:function(e,t){}});
//# sourceMappingURL=8.e37468f98cbee5e2b5cf.js.map