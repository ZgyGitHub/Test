{"version":3,"sources":["webpack:///./src/pages/user/login/bindPhone.vue","webpack:///./src/pages/user/login/bindPhone.vue?7d61","webpack:///./src/pages/user/login/bindPhone.vue?d08f"],"names":["countDown","bindPhone","data","clickBack","title","phone","validateCode","validateName","password","rePassword","submitPhone","components","VHeader","v_header","Divider","divider","methods","extends_default","beforeLeave","el","Object","brower","this","style","display","setTimeDown","validateDisabled","_self","setTimeout","getValidate","test","axiosApi","get","$vux","toast","show","text","blurPassword","event","target","focus","confirmPhone","_this","openid","local","length","post","setItem","set","setLoginAnmation","$router","replace","confirmPassword","_this2","params","md5_default","$store","getters","JIM","register","username","id","is_md5","nickname","vuex_esm","login_bindPhone","render","_vm","_h","$createElement","_c","attrs","name","on","before-leave","staticClass","back","$event","_v","directives","rawName","value","expression","type","placeholder","domProps","blur","input","composing","staticStyle","background-color","margin","click","pattern","_s","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"iPAUIA,EAAY,GAChBC,GACAC,KADe,WAEf,OACAC,WAAW,EACXC,MAAO,QACPC,MAAO,GACPC,aAAc,GACdC,aAAc,QACdC,SAAU,GACVC,WAAY,GACZC,aAAa,IAGbC,YACAC,QAAAC,EAAA,EAASC,QAAAC,EAAA,GAETC,QAAAC,KACAC,YADA,SACaC,GAETC,OAAAC,EAAA,EAAAD,KAAYE,KAAKnB,YACrBgB,EAAGI,MAAMC,QAAU,SAGnBC,YAPA,WAQA,GAAkB,IAAdzB,EAIJ,OAHAsB,KAAKI,kBAAmB,EACxBJ,KAAKf,aAAe,YACpBP,EAAY,IAGZsB,KAAKI,kBAAmB,EACxBJ,KAAKf,aAAe,QAAUP,EAAY,IAC1CA,IAEA,IAAM2B,EAAQL,KACdM,WAAW,WACXD,EAAMF,eACH,MAEHI,YAvBA,WAwBA,IAAIP,KAAKI,iBAGT,GAAM,kBAAkBI,KAAKR,KAAKjB,OAAlC,CAIA,GAAIL,GAAa,GAAI,CACrB,IAAM2B,EAAQL,KACdS,EAAA,EAAMC,IAAIL,EAAV,WAA4BL,KAAKjB,MAAS,KAAM,SAACH,GACjDyB,EAAMM,KAAKC,MAAMC,KAAK,UAAW,YAGjCb,KAAKG,mBATLH,KAAKW,KAAKC,MAAME,KAAK,YAAa,WAWlCC,aAvCA,SAuCcC,GACR,sBAAsBR,KAAKR,KAAKd,YACtCc,KAAKW,KAAKC,MAAME,KAAK,oBAAqB,UAC1CE,EAAMC,OAAOC,UAGbC,aA7CA,WA6CgB,IAAAC,EAAApB,KACVqB,EAASC,EAAA,EAAUZ,IAAI,UAC7B,GAAc,MAAVW,EAIJ,GAAM,kBAAkBb,KAAKR,KAAKjB,OAIlC,GAAiC,IAA7BiB,KAAKhB,aAAauC,OAAtB,CAIA,IAAMlB,EAAQL,KACdS,EAAA,EAAMe,KAAKnB,EAAX,WAA6BL,KAAKjB,MAAlC,IAA2CiB,KAAKhB,aAAgB,KAAM,WACtEsC,EAAA,EAAUG,QAAQ,WAAYL,EAAKrC,OACnC0B,EAAA,EAAMe,KAAKnB,EAAX,uBAAyCgB,EAAzC,IAAmDD,EAAKrC,MAAS,KAAM,SAACH,GACxE0C,EAAA,EAAUI,IAAI9C,GACdyB,EAAMsB,iBAAiB,IACvBtB,EAAMuB,QAAQC,QAAQ,MACnB,WACHxB,EAAMjB,aAAc,EACpBiB,EAAMvB,MAAQ,gBAZdkB,KAAKW,KAAKC,MAAME,KAAK,WAAY,eAJjCd,KAAKW,KAAKC,MAAME,KAAK,YAAa,eAJlCd,KAAKW,KAAKC,MAAME,KAAK,QAAS,WAwB9BgB,gBAxEA,WAwEmB,IAAAC,EAAA/B,KACfA,KAAKd,WAAac,KAAKb,YAC3Ba,KAAKW,KAAKC,MAAME,KAAK,aAAc,UAEnC,IAAIkB,EAASV,EAAA,EAAUZ,MACvBsB,EAAO9C,SAAWc,KAAKd,SACvB,IAAMmB,EAAQL,KACdS,EAAA,EAAMe,KAAKnB,EAAO,qBAAsB2B,EAAQ,SAACpD,GACjDA,EAAKM,SAAW+C,IAAI5B,EAAMnB,UAC1BoC,EAAA,EAAUI,IAAI9C,GACdmD,EAAKJ,iBAAiB,IACtBtB,EAAMuB,QAAQC,QAAQ,KACVxB,EAAM6B,OAAOC,QAAQC,IAC7BC,UACJC,SAAU1D,EAAK2D,GACfrD,SAAUmB,EAAMnB,SAChBsD,QAAQ,EACRC,SAAUpC,EAAMoC,eAIb3C,OAAA4C,EAAA,EAAA5C,EACH6B,iBAAkB,yBCtHlBgB,GADiBC,OAFjB,WAA0B,IAAAC,EAAA7C,KAAa8C,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAxC,MAAA2C,IAAAF,EAAwB,OAAAE,EAAA,cAAwBC,OAAOC,KAAA,SAAeC,IAAKC,eAAAP,EAAAjD,eAAgCoD,EAAA,OAAYK,YAAA,uBAAiCL,EAAA,YAAiBC,OAAOnE,MAAA+D,EAAA/D,OAAkBqE,IAAKG,KAAA,SAAAC,GAAwBV,EAAAhE,WAAA,MAAuBgE,EAAAW,GAAA,KAAAX,EAAAzD,YAAkgC4D,EAAA,OAAgCK,YAAA,SAAmBL,EAAA,OAAYK,YAAA,WAAqBL,EAAA,SAAcS,aAAaP,KAAA,QAAAQ,QAAA,UAAAC,MAAAd,EAAA,SAAAe,WAAA,aAA0EX,OAASY,KAAA,WAAAC,YAAA,cAA6CC,UAAWJ,MAAAd,EAAA,UAAuBM,IAAKa,KAAAnB,EAAA9B,aAAAkD,MAAA,SAAAV,GAAiDA,EAAAtC,OAAAiD,YAAsCrB,EAAA3D,SAAAqE,EAAAtC,OAAA0C,aAAmCd,EAAAW,GAAA,KAAAR,EAAA,OAA0BK,YAAA,WAAqBL,EAAA,SAAcS,aAAaP,KAAA,QAAAQ,QAAA,UAAAC,MAAAd,EAAA,WAAAe,WAAA,eAA8EX,OAASY,KAAA,WAAAC,YAAA,aAA4CC,UAAWJ,MAAAd,EAAA,YAAyBM,IAAKc,MAAA,SAAAV,GAAyBA,EAAAtC,OAAAiD,YAAsCrB,EAAA1D,WAAAoE,EAAAtC,OAAA0C,aAAqCd,EAAAW,GAAA,KAAAR,EAAA,OAA0BK,YAAA,SAAAc,aAAkCC,mBAAA,UAAAC,OAAA,eAAmDrB,EAAA,UAAeK,YAAA,MAAAF,IAAsBmB,MAAAzB,EAAAf,mBAA6Be,EAAAW,GAAA,YAA75DR,EAAA,OAA2CK,YAAA,SAAmBL,EAAA,OAAYK,YAAA,WAAqBL,EAAA,SAAcS,aAAaP,KAAA,QAAAQ,QAAA,UAAAC,MAAAd,EAAA,MAAAe,WAAA,UAAoEX,OAASsB,QAAA,SAAAT,YAAA,SAAyCC,UAAWJ,MAAAd,EAAA,OAAoBM,IAAKc,MAAA,SAAAV,GAAyBA,EAAAtC,OAAAiD,YAAsCrB,EAAA9D,MAAAwE,EAAAtC,OAAA0C,aAAgCd,EAAAW,GAAA,KAAAR,EAAA,OAA0BK,YAAA,yBAAmCL,EAAA,SAAcS,aAAaP,KAAA,QAAAQ,QAAA,UAAAC,MAAAd,EAAA,aAAAe,WAAA,iBAAkFX,OAASa,YAAA,SAAsBC,UAAWJ,MAAAd,EAAA,cAA2BM,IAAKc,MAAA,SAAAV,GAAyBA,EAAAtC,OAAAiD,YAAsCrB,EAAA7D,aAAAuE,EAAAtC,OAAA0C,WAAuCd,EAAAW,GAAA,KAAAR,EAAA,OAAwBK,YAAA,OAAAF,IAAuBmB,MAAAzB,EAAAtC,eAAyBsC,EAAAW,GAAA,eAAAX,EAAA2B,GAAA3B,EAAA5D,cAAA,kBAAA4D,EAAAW,GAAA,KAAAR,EAAA,OAAyFK,YAAA,SAAAc,aAAkCC,mBAAA,UAAAC,OAAA,eAAmDrB,EAAA,UAAeK,YAAA,MAAAF,IAAsBmB,MAAAzB,EAAA1B,gBAA0B0B,EAAAW,GAAA,cAA25B,MAEnsEiB,oBCCjB,IAcAC,EAdAC,EAAA,OAcAC,CACAjG,EACAgE,GATA,EAVA,SAAAkC,GACAF,EAAA,SAaA,kBAEA,MAUAG,EAAA,QAAAJ,EAAA","file":"static/js/39.27ec49ca60a58b722c1e.js","sourcesContent":["\nimport Divider from 'vux/src/components/divider/index.vue'\n\nimport VHeader from '@/components/v-header/v-header'\nimport axios from '@/api/axiosApi'\nimport { isIOS } from '@/assets/js/brower'\nimport { localUser } from '@/assets/js/local'\nimport md5 from 'js-md5'\nimport { mapMutations } from 'vuex'\n\nlet countDown = 60\nexport default {\ndata () {\nreturn {\nclickBack: false,\ntitle: '绑定手机号',\nphone: '',\nvalidateCode: '',\nvalidateName: '获取验证码',\npassword: '',\nrePassword: '',\nsubmitPhone: false\n}\n},\ncomponents: {\nVHeader, Divider\n},\nmethods: {\nbeforeLeave (el) {\n\nif (isIOS() && !this.clickBack) {\nel.style.display = 'none'\n}\n},\nsetTimeDown () {\nif (countDown === 0) {\nthis.validateDisabled = false\nthis.validateName = '重新获取'\ncountDown = 60\nreturn\n} else {\nthis.validateDisabled = true\nthis.validateName = '重新发送(' + countDown + ')'\ncountDown--\n}\nconst _self = this\nsetTimeout(() => {\n_self.setTimeDown()\n}, 1000)\n},\ngetValidate () {\nif (this.validateDisabled) {\nreturn\n}\nif (!(/^1[34578]\\d{9}$/.test(this.phone))) {\nthis.$vux.toast.text('手机号码格式不正确', 'middle')\nreturn\n}\nif (countDown >= 60) {\nconst _self = this\naxios.get(_self, `/v1/sms/${this.phone}`, null, (data) => {\n_self.$vux.toast.show('发送验证码成功', 'middle')\n})\n}\nthis.setTimeDown()\n},\nblurPassword (event) {\nif (!(/^([\\d]|[\\w]){6,16}$/.test(this.password))) {\nthis.$vux.toast.text('密码长度过短或过长，或者有特殊符号', 'middle')\nevent.target.focus()\n}\n},\nconfirmPhone () {\nconst openid = localUser.get('openid')\nif (openid == null) {\nthis.$vux.toast.text('微信号为空', 'middle')\nreturn\n}\nif (!(/^1[34578]\\d{9}$/.test(this.phone))) {\nthis.$vux.toast.text('手机号码格式不正确', 'middle')\nreturn\n}\nif (this.validateCode.length !== 6) {\nthis.$vux.toast.text('验证码格式不正确', 'middle')\nreturn\n}\nconst _self = this\naxios.post(_self, `/v1/sms/${this.phone}/${this.validateCode}`, null, () => {\nlocalUser.setItem('phoneNum', this.phone)\naxios.post(_self, `/v1/weChatBindPhone/${openid}/${this.phone}`, null, (data) => {\nlocalUser.set(data)\n_self.setLoginAnmation('')\n_self.$router.replace('/')\n}, () => {\n_self.submitPhone = true\n_self.title = '确认密码'\n})\n})\n},\nconfirmPassword () {\nif (this.password !== this.rePassword) {\nthis.$vux.toast.text('两次输入的密码不一致', 'middle')\n}\nlet params = localUser.get()\nparams.password = this.password\nconst _self = this\naxios.post(_self, '/v1/weChatRegister', params, (data) => {\ndata.password = md5(_self.password)\nlocalUser.set(data)\nthis.setLoginAnmation('')\n_self.$router.replace('/')\nconst JIM = _self.$store.getters.JIM\nJIM.register({\nusername: data.id,\npassword: _self.password,\nis_md5: true,\nnickname: _self.nickname\n})\n})\n},\n...mapMutations({\nsetLoginAnmation: 'SET_LOGIN_ANMATION'\n})\n}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/user/login/bindPhone.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"slide\"},on:{\"before-leave\":_vm.beforeLeave}},[_c('div',{staticClass:\"bind-phone-wrapper\"},[_c('v-header',{attrs:{\"title\":_vm.title},on:{\"back\":function($event){_vm.clickBack = true}}}),_vm._v(\" \"),(!_vm.submitPhone)?_c('div',{staticClass:\"form\"},[_c('div',{staticClass:\"around\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.phone),expression:\"phone\"}],attrs:{\"pattern\":\"[0-9]*\",\"placeholder\":\"输入手机号\"},domProps:{\"value\":(_vm.phone)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.phone=$event.target.value}}})]),_vm._v(\" \"),_c('div',{staticClass:\"around validate-code\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.validateCode),expression:\"validateCode\"}],attrs:{\"placeholder\":\"输入验证码\"},domProps:{\"value\":(_vm.validateCode)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.validateCode=$event.target.value}}}),_vm._v(\" \"),_c('div',{staticClass:\"code\",on:{\"click\":_vm.getValidate}},[_vm._v(\"\\n          \"+_vm._s(_vm.validateName)+\"\\n        \")])]),_vm._v(\" \"),_c('div',{staticClass:\"around\",staticStyle:{\"background-color\":\"#b9b9b9\",\"margin\":\"25px auto\"}},[_c('button',{staticClass:\"btn\",on:{\"click\":_vm.confirmPhone}},[_vm._v(\"下一步\")])])]):_c('div',{staticClass:\"form\"},[_c('div',{staticClass:\"around\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.password),expression:\"password\"}],attrs:{\"type\":\"password\",\"placeholder\":\"请输入6~16位密码\"},domProps:{\"value\":(_vm.password)},on:{\"blur\":_vm.blurPassword,\"input\":function($event){if($event.target.composing){ return; }_vm.password=$event.target.value}}})]),_vm._v(\" \"),_c('div',{staticClass:\"around\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.rePassword),expression:\"rePassword\"}],attrs:{\"type\":\"password\",\"placeholder\":\"再次输入上面的密码\"},domProps:{\"value\":(_vm.rePassword)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.rePassword=$event.target.value}}})]),_vm._v(\" \"),_c('div',{staticClass:\"around\",staticStyle:{\"background-color\":\"#b9b9b9\",\"margin\":\"25px auto\"}},[_c('button',{staticClass:\"btn\",on:{\"click\":_vm.confirmPassword}},[_vm._v(\"登录\")])])])],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2f16c8f7\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vux-loader/src/before-template-compiler-loader.js!./node_modules/vux-loader/src/template-loader.js!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/user/login/bindPhone.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2f16c8f7\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vux-loader/src/style-loader.js!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./bindPhone.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vux-loader/src/script-loader.js!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./bindPhone.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vux-loader/src/script-loader.js!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./bindPhone.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2f16c8f7\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vux-loader/src/before-template-compiler-loader.js!../../../../node_modules/vux-loader/src/template-loader.js!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./bindPhone.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-2f16c8f7\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/user/login/bindPhone.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}