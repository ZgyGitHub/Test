webpackJsonp([16],{EmH9:function(e,t,a){"use strict";var i={name:"check-icon",components:{Icon:a("oWtu").a},methods:{updateValue:function(){this.$emit("update:value",!this.value)}},props:{value:{type:Boolean,default:!1},type:{type:String,default:"default"}}},s={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"vux-check-icon",on:{click:this.updateValue}},[t("icon",{directives:[{name:"show",rawName:"v-show",value:"default"===this.type&&this.value,expression:"type === 'default' && value"}],attrs:{type:"success"}}),this._v(" "),t("icon",{directives:[{name:"show",rawName:"v-show",value:"plain"===this.type&&this.value,expression:"type === 'plain' && value"}],attrs:{type:"success_circle"}}),this._v(" "),t("icon",{directives:[{name:"show",rawName:"v-show",value:!this.value,expression:"!value"}],attrs:{type:"circle"}}),this._v(" "),t("span",[this._t("default")],2)],1)},staticRenderFns:[]};var n=a("VU/8")(i,s,!1,function(e){a("qh6J")},null,null);t.a=n.exports},OLsL:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("UBjx"),s=a("bh5B"),n=a("e66H"),o=a("YxJB"),c=a("3Lt7"),r=a("ALGc"),l=a("rGqP"),m=a("EmH9"),u=a("aTeQ"),d=a("62KO"),h=a("EdC7"),v=a.n(h),p=a("8Y6E"),f=a("kMOI"),g=a("Fwkz"),x={props:{fontColor:{type:String,default:"#fff"}},data:function(){return{styles:{},imageTop:v.a,dataStar:5,agree:!0,atlas:[],reconmmenderObject:{environmentRate:4,serviceRate:4,facilityRate:4,sanitationRate:4},show:!1}},mounted:function(){this.styles.height=window.innerHeight-64+"px"},computed:{imageSize:function(){return(window.innerWidth-30)/3-10}},created:function(){this.user=f.b.get(),this.reconmmenderObject.recommend=1},methods:{publishDynamic:function(){this.$refs.selectImg.dispatchEvent(new MouseEvent("click"))},selectImg:function(e){var t=this;e.target.files.length>15?this.$vux.toast.text("最多只能选15张图片","middle"):Object(p.a)(this,e.target.files,function(a){var i=[];a.forEach(function(e){i.push(e.downloadPath)}),t.atlas=t.atlas.concat(i),e.target.value=""})},ifPublishRecommanded:function(){this.show=!0},publishRecommanded:function(){var e=this;if(this.reconmmenderObject.userId=this.user.id,this.reconmmenderObject.productId=this.$route.params.productId,this.reconmmenderObject.outTradeNo=sessionStorage.getItem("outTradeNo"),""!==this.reconmmenderObject.comment&&null!=this.reconmmenderObject.comment){if(this.atlas.length>0)for(var t=0;t<this.atlas.length;t++)this.reconmmenderObject.matchImgUrl=this.atlas[t]+";";this.agree?this.reconmmenderObject.anonymity=1:this.reconmmenderObject.anonymity=0,g.a.post(this,"/v1/productComment",this.reconmmenderObject,function(t){e.$router.push("/user/order"),e.$store.commit("SET_ORDER_TAB",2),e.$vux.toast.text("发布评论成功","middle")})}else this.$vux.toast.text("评论内容为空","middle")},back:function(){this.$router.go(-1)},onCancel:function(){},onConfirm:function(){this.publishRecommanded()}},components:{VHeader:i.a,Scroll:s.a,Rater:n.a,Flexbox:o.a,FlexboxItem:c.a,XTextarea:r.a,Divider:l.a,CheckIcon:m.a,XSwitch:u.a,Confirm:d.a}},w={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"publishanswer",style:{color:e.fontColor}},[a("v-header",{attrs:{title:"评论"}},[a("p",{attrs:{slot:"right"},on:{click:e.ifPublishRecommanded},slot:"right"},[e._v("发布")]),e._v(" "),a("svg",{staticClass:"vux-x-icon vux-x-icon-ios-arrow-left",staticStyle:{top:"5px"},style:{fill:e.fontColor},attrs:{slot:"left",type:"ios-arrow-left",size:"28",xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 512 512"},on:{click:e.back},slot:"left"},[a("path",{attrs:{d:"M352 115.4L331.3 96 160 256l171.3 160 20.7-19.3L201.5 256z"}})])]),e._v(" "),a("div",[a("scroll",{style:e.styles,attrs:{bounce:!1}},[a("div",[a("flexbox",{staticClass:"topWrapper"},[a("flexbox-item",{staticClass:"rightWrapper"},[a("div",[a("div",{staticClass:"flexTwo"},[a("p",[e._v("五星级酒店有哪些容易被忽略的免费服务？")])])])])],1),e._v(" "),a("divider",[e._v("评价内容")]),e._v(" "),a("div",{staticClass:"evlutionText"},[a("x-textarea",{attrs:{max:200,placeholder:"请亲愉快地描述评价吧"},model:{value:e.reconmmenderObject.comment,callback:function(t){e.$set(e.reconmmenderObject,"comment",t)},expression:"reconmmenderObject.comment"}})],1),e._v(" "),a("div",{staticClass:"photoWrapper"},[a("input",{ref:"selectImg",staticStyle:{display:"none"},attrs:{type:"file",accept:"image/*",multiple:""},on:{change:e.selectImg}}),e._v(" "),a("div",{staticClass:"photoSmall",on:{click:e.publishDynamic}},[a("div",[a("img",{staticClass:"imageTops",attrs:{src:e.imageTop,alt:""}})]),e._v(" "),a("div",{staticClass:"photoText"},[a("p",[e._v("上传照片")])])]),e._v(" "),a("div",{staticClass:"nameWrapper"},[a("check-icon",{attrs:{value:e.agree},on:{"update:value":function(t){e.agree=t}}},[a("p",[e._v("匿名上传")])])],1),e._v(" "),a("div",{staticClass:"imgs"},e._l(e.atlas,function(t,i){return a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t+"-meitu3",expression:"img + '-meitu3'"}],key:i,style:{width:e.imageSize+"px",height:e.imageSize+"px"}})}))])],1)]),e._v(" "),a("div",{staticClass:"alertWrapperEvalution"},[a("confirm",{attrs:{title:"温馨提示"},on:{"on-cancel":e.onCancel,"on-confirm":e.onConfirm},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[a("p",{staticStyle:{"text-align":"center"}},[e._v("是否确认发布")])])],1)],1),e._v(" "),a("router-view")],1)},staticRenderFns:[]};var b=a("VU/8")(x,w,!1,function(e){a("sU3/")},"data-v-18d141e5",null);t.default=b.exports},qh6J:function(e,t){},"sU3/":function(e,t){}});
//# sourceMappingURL=16.9b13cce6830be08cfd7d.js.map